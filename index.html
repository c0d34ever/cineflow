<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CineFlow AI - Cinematic Production Suite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Inter', sans-serif;
        background-color: #0f0f10;
        color: #e2e2e2;
        transition: background-color 0.3s, color 0.3s;
      }
      h1, h2, h3, .cinematic-font {
        font-family: 'Cinzel', serif;
      }
      
      /* Light Theme */
      html.light body {
        background-color: #fafafa;
        color: #1f1f1f;
      }
      
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #18181b; 
      }
      html.light ::-webkit-scrollbar-track {
        background: #e5e5e5;
      }
      ::-webkit-scrollbar-thumb {
        background: #3f3f46; 
        border-radius: 4px;
      }
      html.light ::-webkit-scrollbar-thumb {
        background: #a3a3a3;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #52525b; 
      }
      html.light ::-webkit-scrollbar-thumb:hover {
        background: #737373;
      }
      
      /* Toast Animations */
      @keyframes slide-in {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      .animate-slide-in {
        animation: slide-in 0.3s ease-out;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/"
  }
}
</script>
  <!-- Guard against browser extension script conflicts -->
  <script>
    // Prevent duplicate declarations from browser extensions
    (function() {
      'use strict';
      
      // Create namespace guards to prevent duplicate declarations
      if (typeof window.extensionGuards === 'undefined') {
        window.extensionGuards = {};
      }
      
      // Intercept and wrap potentially conflicting variable declarations
      const originalDefineProperty = Object.defineProperty;
      Object.defineProperty = function(obj, prop, descriptor) {
        // Allow redefinition if it's from a browser extension
        if (prop === 'afterBodyReady' || prop === 'afterBodyReadyScreenshader') {
          try {
            return originalDefineProperty.call(this, obj, prop, descriptor);
          } catch (e) {
            // Silently ignore duplicate property definitions from extensions
            if (e.message && e.message.includes('already been declared')) {
              console.warn('Suppressed duplicate declaration from browser extension:', prop);
              return obj;
            }
            throw e;
          }
        }
        return originalDefineProperty.call(this, obj, prop, descriptor);
      };
      
      // Store original error handler
      const originalError = window.onerror;
      
      // Override error handler to suppress known browser extension conflicts
      window.onerror = function(msg, source, lineno, colno, error) {
        // Suppress errors from browser extension scripts
        if (source && (
          source.includes('screen-shader.js') || 
          source.includes('night-mode.js') ||
          msg.includes('afterBodyReadyScreenshader') ||
          msg.includes('afterBodyReady') ||
          (msg && msg.toString().includes('already been declared'))
        )) {
          console.warn('Suppressed browser extension script conflict:', msg);
          return true; // Suppress the error
        }
        
        // Call original error handler for other errors
        if (originalError) {
          return originalError.call(this, msg, source, lineno, colno, error);
        }
        return false;
      };
      
      // Also catch unhandled promise rejections that might be related
      window.addEventListener('unhandledrejection', function(event) {
        if (event.reason && (
          event.reason.toString().includes('afterBodyReadyScreenshader') ||
          event.reason.toString().includes('afterBodyReady') ||
          event.reason.toString().includes('already been declared')
        )) {
          console.warn('Suppressed browser extension promise rejection:', event.reason);
          event.preventDefault();
        }
      });
    })();
  </script>
</head>
  <body>
    <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
</body>
</html>